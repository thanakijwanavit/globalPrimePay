---

title: Client


keywords: fastai
sidebar: home_sidebar

summary: "client for global prime pay"
description: "client for global prime pay"
nb_path: "nbs/client.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/client.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Helper">Helper<a class="anchor-link" href="#Helper"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_markdown rendered_html output_subarea ">
<h2 id="Helper" class="doc_header"><code>class</code> <code>Helper</code><a href="https://github.com/thanakijwanavit/globalPrimePayglobalPrimePay/client.py#L17" class="source_link" style="float:right">[source]</a></h2>
<blockquote>
<p><code>Helper</code>()</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">Helper</span><span class="o">.</span><span class="n">urlEncode</span><span class="p">({</span><span class="s1">'test'</span><span class="p">:</span><span class="s1">'test'</span><span class="p">,</span><span class="s1">'test1'</span><span class="p">:</span><span class="mi">1</span><span class="p">})</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;test=test&amp;test1=1&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Client">Client<a class="anchor-link" href="#Client"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_markdown rendered_html output_subarea ">
<h2 id="Client" class="doc_header"><code>class</code> <code>Client</code><a href="https://github.com/thanakijwanavit/globalPrimePayglobalPrimePay/client.py#L26" class="source_link" style="float:right">[source]</a></h2>
<blockquote>
<p><code>Client</code>(<strong><code>pub</code></strong>, <strong><code>secret</code></strong>, <strong><code>token</code></strong>=<em><code>''</code></em>, <strong><code>endpoint</code></strong>=<em><code>'https://api.globalprimepay.com'</code></em>) :: <a href="/globalPrimePay/client.html#Helper"><code>Helper</code></a></p>
</blockquote>
<p>main client for interface with global prime pay
accept 3 inputs from gbp
pub: public key
secret: your secret key
token: your client token</p>
<p>please refer to the main readme which should describe what those are</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Get-token">Get token<a class="anchor-link" href="#Get-token"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_markdown rendered_html output_subarea ">
<h4 id="getCardToken" class="doc_header"><code>getCardToken</code><a href="https://github.com/thanakijwanavit/globalPrimePayglobalPrimePay/client.py#L49" class="source_link" style="float:right">[source]</a></h4>
<blockquote>
<p><code>getCardToken</code>(<strong><code>self</code></strong>, <strong><code>cardNumber</code></strong>, <strong><code>expirationMonth</code></strong>, <strong><code>expirationYear</code></strong>, <strong><code>securityCode</code></strong>, <strong><code>name</code></strong>, ****<code>kwargs</code>**)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="o">**</span><span class="n">sampleKeys</span><span class="p">)</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">getCardToken</span><span class="p">(</span><span class="o">**</span><span class="n">sampleCard</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="n">token</span> <span class="o">=</span> <span class="n">r</span><span class="p">[</span><span class="s1">'card'</span><span class="p">][</span><span class="s1">'token'</span><span class="p">]</span>
<span class="n">r</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>{&#39;rememberCard&#39;: True, &#39;resultCode&#39;: &#39;00&#39;, &#39;resultMessage&#39;: &#39;Success&#39;, &#39;card&#39;: {&#39;name&#39;: None, &#39;number&#39;: &#39;453501XXXXXX5741&#39;, &#39;expirationMonth&#39;: &#39;05&#39;, &#39;expirationYear&#39;: &#39;28&#39;, &#39;securityCode&#39;: None, &#39;token&#39;: &#39;adaa55d8-6aaa-4895-8212-ca986d2b350d&#39;, &#39;cardLocation&#39;: &#39;I&#39;, &#39;cardType&#39;: &#39;VIS&#39;}, &#39;email&#39;: None, &#39;mobilePhone&#39;: None, &#39;userId&#39;: None, &#39;partnerKey&#39;: None}
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>{&#39;rememberCard&#39;: True,
 &#39;resultCode&#39;: &#39;00&#39;,
 &#39;resultMessage&#39;: &#39;Success&#39;,
 &#39;card&#39;: {&#39;name&#39;: None,
  &#39;number&#39;: &#39;453501XXXXXX5741&#39;,
  &#39;expirationMonth&#39;: &#39;05&#39;,
  &#39;expirationYear&#39;: &#39;28&#39;,
  &#39;securityCode&#39;: None,
  &#39;token&#39;: &#39;adaa55d8-6aaa-4895-8212-ca986d2b350d&#39;,
  &#39;cardLocation&#39;: &#39;I&#39;,
  &#39;cardType&#39;: &#39;VIS&#39;},
 &#39;email&#39;: None,
 &#39;mobilePhone&#39;: None,
 &#39;userId&#39;: None,
 &#39;partnerKey&#39;: None}</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Charge-Card">Charge Card<a class="anchor-link" href="#Charge-Card"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_markdown rendered_html output_subarea ">
<h4 id="chargeCard" class="doc_header"><code>chargeCard</code><a href="https://github.com/thanakijwanavit/globalPrimePayglobalPrimePay/client.py#L79" class="source_link" style="float:right">[source]</a></h4>
<blockquote>
<p><code>chargeCard</code>(<strong><code>self</code></strong>, <strong><code>token</code></strong>:<code>str</code>, <strong><code>amount</code></strong>:<code>Number</code>, <strong><code>referenceNo</code></strong>:<code>str</code>, <strong><code>customerName</code></strong>:<code>str</code>, <strong><code>customerEmail</code></strong>:<code>str</code>, <strong><code>detail</code></strong>:<code>str</code>, <strong><code>responseUrl</code></strong>:<code>str</code>=<em><code>'https://responseUrl'</code></em>, <strong><code>backgroundUrl</code></strong>:<code>str</code>=<em><code>'https://backgroundUrl'</code></em>, <strong><code>otp</code></strong>:<code>str</code>=<em><code>'Y'</code></em>, ****<code>kwargs</code>**)</p>
</blockquote>
<p>charge card using 3d security,
input:
  token:str:: card token (generated using client.getCardToken
  amount:Number:: amount to charge
  referenceNo:str:: reference used to check payment status later, should be uniquely generated
  customerName:str
  customerEmail:str
  detail:str
  responseUrl:str:: redirect url
  backgroundUrl:str:: callback url
  otp:str:: should we force user to input OTP 'Y' or 'N'
  **kwargs: any other input, please see full reference here https://doc.gbprimepay.com/full-payment-3d</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="o">**</span><span class="n">sampleKeys</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">random</span> <span class="kn">import</span> <span class="n">randint</span>

<span class="n">cardPayload</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'token'</span><span class="p">:</span> <span class="n">token</span><span class="p">,</span>
  <span class="s1">'amount'</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
  <span class="s1">'referenceNo'</span><span class="p">:</span> <span class="sa">f</span><span class="s2">"TEST123</span><span class="si">{</span><span class="n">randint</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span><span class="mi">10000</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span><span class="p">,</span>
  <span class="s1">'customerName'</span><span class="p">:</span> <span class="s1">'nic'</span><span class="p">,</span>
  <span class="s1">'customerEmail'</span><span class="p">:</span> <span class="s1">'email@gmail.com'</span><span class="p">,</span>
  <span class="s1">'otp'</span><span class="p">:</span> <span class="s1">'Y'</span><span class="p">,</span>
  <span class="s1">'detail'</span><span class="p">:</span> <span class="s1">'this is just a test'</span>
<span class="p">}</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">chargeCard</span><span class="p">(</span><span class="o">**</span><span class="n">cardPayload</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="n">gbpReferenceNo</span> <span class="o">=</span> <span class="n">r</span><span class="p">[</span><span class="s1">'gbpReferenceNo'</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>{&#39;customerAddress&#39;: None, &#39;amount&#39;: 10, &#39;referenceNo&#39;: &#39;TEST1231685&#39;, &#39;messageToMerchant&#39;: None, &#39;resultCode&#39;: &#39;00&#39;, &#39;customerTelephone&#39;: None, &#39;resultMessage&#39;: &#39;Success&#39;, &#39;customerName&#39;: &#39;nic&#39;, &#39;customerEmail&#39;: &#39;email@gmail.com&#39;, &#39;gbpReferenceNo&#39;: &#39;gbp173512137809&#39;, &#39;merchantDefined5&#39;: None, &#39;detail&#39;: &#39;this is just a test&#39;, &#39;merchantDefined3&#39;: None, &#39;merchantDefined4&#39;: None, &#39;merchantDefined1&#39;: None, &#39;merchantDefined2&#39;: None}
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Verify-OTP">Verify OTP<a class="anchor-link" href="#Verify-OTP"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_markdown rendered_html output_subarea ">
<h4 id="verifyOtp" class="doc_header"><code>verifyOtp</code><a href="https://github.com/thanakijwanavit/globalPrimePayglobalPrimePay/client.py#L135" class="source_link" style="float:right">[source]</a></h4>
<blockquote>
<p><code>verifyOtp</code>(<strong><code>self</code></strong>, <strong><code>gbpReferenceNo</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">r</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">verifyOtp</span><span class="p">(</span><span class="n">gbpReferenceNo</span><span class="p">)</span>
<span class="n">r</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;&lt;!DOCTYPE html&gt;\n\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;title&gt;GB Prime Pay&lt;/title&gt;\n    &lt;meta charset=&#34;UTF-8&#34; /&gt;\n    &lt;meta name=&#34;viewport&#34; content=&#34;width=device-width, initial-scale=1.0&#34; /&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;div&gt;Loading...&lt;/div&gt;\n    &lt;div&gt;\n      &lt;form action=&#34;https://simbank.globalprimepay.com/pay/3d_secure&#34; method=&#34;post&#34;&gt;\n        &lt;input type=&#34;hidden&#34; name=&#34;MERID&#34; value=&#34;21291800058&#34; /&gt;\n        &lt;input type=&#34;hidden&#34; name=&#34;TERMINALID&#34; value=&#34;18060001&#34; /&gt;\n        &lt;input type=&#34;hidden&#34; name=&#34;PAN&#34; value=&#34;4535017710535741&#34; /&gt;\n        &lt;input type=&#34;hidden&#34; name=&#34;EXPIRYDATE&#34; value=&#34;0528&#34; /&gt;\n        &lt;input type=&#34;hidden&#34; name=&#34;CVV2&#34; value=&#34;184&#34; /&gt;\n        &lt;input type=&#34;hidden&#34; name=&#34;INVOICENO&#34; value=&#34;2211210051&#34; /&gt;\n        &lt;input type=&#34;hidden&#34; name=&#34;AMOUNT&#34; value=&#34;1000&#34; /&gt;\n        &lt;input type=&#34;hidden&#34; name=&#34;POSTURL&#34; value=&#34;https://api.globalprimepay.com/web/thanachat_gateway/receive/goback&#34; /&gt;\n        &lt;input type=&#34;hidden&#34; name=&#34;POSTURL2&#34; value=&#34;https://api.globalprimepay.com/web/thanachat_gateway/receive/realtime&#34; /&gt;\n        &lt;input type=&#34;hidden&#34; name=&#34;AUTOREDIRECT&#34; value=&#34;Y&#34; /&gt;\n      &lt;/form&gt;\n    &lt;/div&gt;\n    &lt;script type=&#34;text/javascript&#34; src=&#34;https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js&#34;&gt;&lt;/script&gt;\n    &lt;script type=&#34;text/javascript&#34;&gt;\n      $(document).ready(function () {\n        $(\&#39;form\&#39;).submit();\n      });\n    &lt;/script&gt;\n  &lt;/body&gt;\n&lt;/html&gt;&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">json</span>
<span class="n">data</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">rememberCard</span><span class="se">\"</span><span class="s2">:false,</span><span class="se">\"</span><span class="s2">card</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">number</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">4535017710535741</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">expirationYear</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">28</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">expirationMonth</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">05</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">securityCode</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">184</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">name</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Watcharagon Phokonwong</span><span class="se">\"</span><span class="s2">}}"</span>
<span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>{&#39;rememberCard&#39;: False,
 &#39;card&#39;: {&#39;number&#39;: &#39;4535017710535741&#39;,
  &#39;expirationYear&#39;: &#39;28&#39;,
  &#39;expirationMonth&#39;: &#39;05&#39;,
  &#39;securityCode&#39;: &#39;184&#39;,
  &#39;name&#39;: &#39;Watcharagon Phokonwong&#39;}}</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="p">{</span><span class="s1">'customerAddress'</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">'amount'</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">'referenceNo'</span><span class="p">:</span> <span class="s1">'TEST1235543'</span><span class="p">,</span> <span class="s1">'messageToMerchant'</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">'resultCode'</span><span class="p">:</span> <span class="s1">'00'</span><span class="p">,</span> <span class="s1">'customerTelephone'</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">'resultMessage'</span><span class="p">:</span> <span class="s1">'Success'</span><span class="p">,</span> <span class="s1">'customerName'</span><span class="p">:</span> <span class="s1">'nic'</span><span class="p">,</span> <span class="s1">'customerEmail'</span><span class="p">:</span> <span class="s1">'email@gmail.com'</span><span class="p">,</span> <span class="s1">'gbpReferenceNo'</span><span class="p">:</span> <span class="s1">'gbp173512058890'</span><span class="p">,</span> <span class="s1">'merchantDefined5'</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">'detail'</span><span class="p">:</span> <span class="s1">'this is just a test'</span><span class="p">,</span> <span class="s1">'merchantDefined3'</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">'merchantDefined4'</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">'merchantDefined1'</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">'merchantDefined2'</span><span class="p">:</span> <span class="kc">None</span><span class="p">}</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>{&#39;customerAddress&#39;: None,
 &#39;amount&#39;: 10,
 &#39;referenceNo&#39;: &#39;TEST1235543&#39;,
 &#39;messageToMerchant&#39;: None,
 &#39;resultCode&#39;: &#39;00&#39;,
 &#39;customerTelephone&#39;: None,
 &#39;resultMessage&#39;: &#39;Success&#39;,
 &#39;customerName&#39;: &#39;nic&#39;,
 &#39;customerEmail&#39;: &#39;email@gmail.com&#39;,
 &#39;gbpReferenceNo&#39;: &#39;gbp173512058890&#39;,
 &#39;merchantDefined5&#39;: None,
 &#39;detail&#39;: &#39;this is just a test&#39;,
 &#39;merchantDefined3&#39;: None,
 &#39;merchantDefined4&#39;: None,
 &#39;merchantDefined1&#39;: None,
 &#39;merchantDefined2&#39;: None}</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="QR-Payment">QR Payment<a class="anchor-link" href="#QR-Payment"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_markdown rendered_html output_subarea ">
<h4 id="qrPayment" class="doc_header"><code>qrPayment</code><a href="https://github.com/thanakijwanavit/globalPrimePayglobalPrimePay/client.py#L152" class="source_link" style="float:right">[source]</a></h4>
<blockquote>
<p><code>qrPayment</code>(<strong><code>self</code></strong>, <strong><code>amount</code></strong>:<code>Number</code>, <strong><code>referenceNo</code></strong>:<code>str</code>, ***<code>args</code><strong>, </strong>**<code>kwargs</code>**)</p>
</blockquote>
<p>pass through variable except token is get from the main class, please see docs at
https://doc.gbprimepay.com/qrcash
currently only amount and referenceNo are required</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span> <span class="n">pub</span><span class="o">=</span><span class="n">sec</span><span class="p">[</span><span class="s1">'public'</span><span class="p">],</span> <span class="n">secret</span> <span class="o">=</span> <span class="n">sec</span><span class="p">[</span><span class="s1">'secret'</span><span class="p">],</span> <span class="n">token</span> <span class="o">=</span> <span class="n">sec</span><span class="p">[</span><span class="s1">'token'</span><span class="p">],</span><span class="n">endpoint</span> <span class="o">=</span> <span class="s1">'https://api.gbprimepay.com/'</span><span class="p">,</span> <span class="p">)</span>
<span class="n">customerKey</span> <span class="o">=</span> <span class="n">sec</span><span class="p">[</span><span class="s1">'token'</span><span class="p">]</span>
<span class="n">ref</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">'test</span><span class="si">{</span><span class="n">randint</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">999</span><span class="p">)</span><span class="si">}</span><span class="s1">'</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">qrPayment</span><span class="p">(</span><span class="n">token</span> <span class="o">=</span> <span class="n">customerKey</span><span class="p">,</span> <span class="n">amount</span> <span class="o">=</span> <span class="mf">15.00</span><span class="p">,</span> <span class="n">referenceNo</span><span class="o">=</span><span class="n">ref</span><span class="p">,</span><span class="n">responseUrl</span> <span class="o">=</span> <span class="s2">"https://responseUrl"</span><span class="p">,</span>
               <span class="n">backgroundUrl</span> <span class="o">=</span>  <span class="s2">"https://backgroundUrl"</span><span class="p">)</span>
<span class="n">r</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>{&#39;referenceNo&#39;: &#39;test522&#39;,
 &#39;qrcode&#39;: &#39;00020101021230830016A00000067701011201150105560068127480218000000221121039125031800000000000test5225303764540515.005802TH5910GBPrimePay6304D681&#39;,
 &#39;resultCode&#39;: &#39;00&#39;,
 &#39;gbpReferenceNo&#39;: &#39;gbp8778184907375&#39;,
 &#39;resultMessage&#39;: &#39;Success&#39;}</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Check-status">Check status<a class="anchor-link" href="#Check-status"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_markdown rendered_html output_subarea ">
<h4 id="checkStatus" class="doc_header"><code>checkStatus</code><a href="https://github.com/thanakijwanavit/globalPrimePayglobalPrimePay/client.py#L174" class="source_link" style="float:right">[source]</a></h4>
<blockquote>
<p><code>checkStatus</code>(<strong><code>self</code></strong>, <strong><code>referenceNo</code></strong>, ****<code>kwargs</code>**)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_markdown rendered_html output_subarea ">
<h4 id="paymentStatus" class="doc_header"><code>paymentStatus</code><a href="https://github.com/thanakijwanavit/globalPrimePayglobalPrimePay/client.py#L187" class="source_link" style="float:right">[source]</a></h4>
<blockquote>
<p><code>paymentStatus</code>(<strong><code>self</code></strong>, <strong><code>referenceNo</code></strong>, ****<code>kwargs</code>**)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">client</span><span class="o">.</span><span class="n">checkStatus</span><span class="p">(</span><span class="n">ref</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>{&#39;resultCode&#39;: &#39;00&#39;,
 &#39;txn&#39;: {&#39;amount&#39;: &#39;15.00&#39;,
  &#39;referenceNo&#39;: &#39;test522&#39;,
  &#39;gbpReferenceNo&#39;: &#39;gbp8778184907375&#39;,
  &#39;merchantDefined5&#39;: None,
  &#39;merchantDefined3&#39;: None,
  &#39;merchantDefined4&#39;: None,
  &#39;merchantDefined1&#39;: None,
  &#39;status&#39;: &#39;G&#39;,
  &#39;paymentType&#39;: &#39;Q&#39;,
  &#39;merchantDefined2&#39;: None},
 &#39;resultMessage&#39;: &#39;Success&#39;}</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">client</span><span class="o">.</span><span class="n">paymentStatus</span><span class="p">(</span><span class="n">ref</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>status is Generate
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;G&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="wechat-payment">wechat payment<a class="anchor-link" href="#wechat-payment"> </a></h1>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_markdown rendered_html output_subarea ">
<h4 id="wechatPay" class="doc_header"><code>wechatPay</code><a href="https://github.com/thanakijwanavit/globalPrimePayglobalPrimePay/client.py#L194" class="source_link" style="float:right">[source]</a></h4>
<blockquote>
<p><code>wechatPay</code>(<strong><code>self</code></strong>, <strong><code>amount</code></strong>:<code>Number</code>, <strong><code>referenceNo</code></strong>:<code>str</code>, ***<code>args</code><strong>, </strong>**<code>kwargs</code>**)</p>
</blockquote>
<p>pass through variable except token is get from the main class, please see docs at
https://doc.gbprimepay.com/wechat
currently only amount and referenceNo are required</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span> <span class="n">pub</span><span class="o">=</span><span class="n">sec</span><span class="p">[</span><span class="s1">'public'</span><span class="p">],</span> <span class="n">secret</span> <span class="o">=</span> <span class="n">sec</span><span class="p">[</span><span class="s1">'secret'</span><span class="p">],</span> <span class="n">token</span> <span class="o">=</span> <span class="n">sec</span><span class="p">[</span><span class="s1">'token'</span><span class="p">],</span><span class="n">endpoint</span> <span class="o">=</span> <span class="s1">'https://api.gbprimepay.com/'</span> <span class="p">)</span>
<span class="n">customerKey</span> <span class="o">=</span> <span class="n">sec</span><span class="p">[</span><span class="s1">'token'</span><span class="p">]</span>
<span class="n">ref</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">'test</span><span class="si">{</span><span class="n">randint</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">999</span><span class="p">)</span><span class="si">}</span><span class="s1">'</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">wechatPay</span><span class="p">(</span>
    <span class="n">token</span> <span class="o">=</span> <span class="n">customerKey</span><span class="p">,</span> 
    <span class="n">amount</span> <span class="o">=</span> <span class="mf">15.00</span><span class="p">,</span> 
    <span class="n">referenceNo</span><span class="o">=</span><span class="n">ref</span><span class="p">,</span>
    <span class="n">responseUrl</span> <span class="o">=</span> <span class="s2">"https://responseUrl"</span><span class="p">,</span>
    <span class="n">backgroundUrl</span> <span class="o">=</span>  <span class="s2">"https://backgroundUrl"</span>
    <span class="p">)</span>
<span class="n">r</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>{&#39;referenceNo&#39;: &#39;test134&#39;,
 &#39;resultCode&#39;: &#39;00&#39;,
 &#39;gbpReferenceNo&#39;: &#39;gbp8778184907379&#39;,
 &#39;wechat&#39;: &#39;weixin://wxpay/bizpayurl?pr=eqr4cvAzz&#39;,
 &#39;resultMessage&#39;: &#39;Success&#39;}</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Alipay">Alipay<a class="anchor-link" href="#Alipay"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_markdown rendered_html output_subarea ">
<h4 id="alipay" class="doc_header"><code>alipay</code><a href="https://github.com/thanakijwanavit/globalPrimePayglobalPrimePay/client.py#L216" class="source_link" style="float:right">[source]</a></h4>
<blockquote>
<p><code>alipay</code>(<strong><code>self</code></strong>, <strong><code>amount</code></strong>:<code>Number</code>, <strong><code>referenceNo</code></strong>:<code>str</code>, ***<code>args</code><strong>, </strong>**<code>kwargs</code>**)</p>
</blockquote>
<p>pass through variable except token is get from the main class, please see docs at
https://doc.gbprimepay.com/wechat
currently only amount and referenceNo are required</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span> <span class="n">pub</span><span class="o">=</span><span class="n">sec</span><span class="p">[</span><span class="s1">'public'</span><span class="p">],</span> <span class="n">secret</span> <span class="o">=</span> <span class="n">sec</span><span class="p">[</span><span class="s1">'secret'</span><span class="p">],</span> <span class="n">token</span> <span class="o">=</span> <span class="n">sec</span><span class="p">[</span><span class="s1">'token'</span><span class="p">],</span><span class="n">endpoint</span> <span class="o">=</span> <span class="s1">'https://api.gbprimepay.com/'</span><span class="p">,</span> <span class="p">)</span>
<span class="n">customerKey</span> <span class="o">=</span> <span class="n">sec</span><span class="p">[</span><span class="s1">'token'</span><span class="p">]</span>
<span class="n">ref</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">'test</span><span class="si">{</span><span class="n">randint</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">999</span><span class="p">)</span><span class="si">}</span><span class="s1">'</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">alipay</span><span class="p">(</span>
    <span class="n">token</span> <span class="o">=</span> <span class="n">customerKey</span><span class="p">,</span> 
    <span class="n">amount</span> <span class="o">=</span> <span class="s1">'15.00'</span><span class="p">,</span> 
    <span class="n">referenceNo</span><span class="o">=</span><span class="n">ref</span><span class="p">,</span>
    <span class="n">responseUrl</span> <span class="o">=</span> <span class="s2">"https://responseUrl"</span><span class="p">,</span>
    <span class="n">backgroundUrl</span> <span class="o">=</span>  <span class="s2">"https://backgroundUrl"</span><span class="p">,</span>
    <span class="n">detail</span><span class="o">=</span><span class="s1">'test'</span>
    <span class="p">)</span>
<span class="n">r</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;&lt;!DOCTYPE html&gt;\n\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;GB Prime Pay&lt;/title&gt;\n    &lt;meta charset=&#34;UTF-8&#34; /&gt;\n    &lt;meta name=&#34;viewport&#34; content=&#34;width=device-width, initial-scale=1.0&#34; /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div&gt;Loading...&lt;/div&gt;\n&lt;div&gt;\n    &lt;form action=&#34;https://paygate.ktc.co.th/ktc/eng/merchandize/payment/payForm.jsp&#34; method=&#34;post&#34;&gt;\n        &lt;input type=&#34;hidden&#34; name=&#34;merchantId&#34; value=&#34;991304584&#34; /&gt;\n        &lt;input type=&#34;hidden&#34; name=&#34;amount&#34; value=&#34;15.00&#34; /&gt;\n        &lt;input type=&#34;hidden&#34; name=&#34;orderRef&#34; value=&#34;221121017184&#34; /&gt;\n        &lt;input type=&#34;hidden&#34; name=&#34;currCode&#34; value=&#34;764&#34; /&gt;\n        &lt;input type=&#34;hidden&#34; name=&#34;successUrl&#34; value=&#34;https://api.gbprimepay.com/alipay/ktc_gateway/success&#34; /&gt;\n        &lt;input type=&#34;hidden&#34; name=&#34;failUrl&#34; value=&#34;https://api.gbprimepay.com/alipay/ktc_gateway/fail&#34; /&gt;\n        &lt;input type=&#34;hidden&#34; name=&#34;cancelUrl&#34; value=&#34;https://api.gbprimepay.com/alipay/ktc_gateway/cancel&#34; /&gt;\n        &lt;input type=&#34;hidden&#34; name=&#34;payType&#34; value=&#34;N&#34; /&gt;\n        &lt;input type=&#34;hidden&#34; name=&#34;lang&#34; value=&#34;E&#34; /&gt;\n        &lt;input type=&#34;hidden&#34; name=&#34;pMethod&#34; value=&#34;ALIPAY&#34; /&gt;\n        &lt;input type=&#34;hidden&#34; name=&#34;TxType&#34; value=&#34;Retail&#34; /&gt;\n\n    &lt;/form&gt;\n&lt;/div&gt;\n&lt;script type=&#34;text/javascript&#34; src=&#34;https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js&#34;&gt;&lt;/script&gt;\n&lt;script type=&#34;text/javascript&#34;&gt;\n      $(document).ready(function () {\n        $(\&#39;form\&#39;).submit();\n      });\n    &lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

</div>


